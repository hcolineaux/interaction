<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 15 Exemple 4 - X quantitatif | Interactions et modifications d’effet   en Epidémiologie</title>
  <meta name="description" content="." />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 15 Exemple 4 - X quantitatif | Interactions et modifications d’effet   en Epidémiologie" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="." />
  <meta name="github-repo" content="interaction" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 15 Exemple 4 - X quantitatif | Interactions et modifications d’effet   en Epidémiologie" />
  
  <meta name="twitter:description" content="." />
  

<meta name="author" content="CERPOP, INSERM, EQUITY Team" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exemple-2---y-quantitatif.html"/>
<link rel="next" href="synthèse-générale.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Interactions</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Présentation</a></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#quand-étudier-les-interactions"><i class="fa fa-check"></i><b>2.1</b> Quand étudier les interactions ?</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="introduction.html"><a href="introduction.html#prediction-versus-causalité"><i class="fa fa-check"></i><b>2.1.1</b> <em>Prediction</em> versus <em>causalité</em></a></li>
<li class="chapter" data-level="2.1.2" data-path="introduction.html"><a href="introduction.html#types-dobjectifs"><i class="fa fa-check"></i><b>2.1.2</b> Types d’objectifs</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#les-points-les-plus-importants"><i class="fa fa-check"></i><b>2.2</b> Les points les plus importants</a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#avertissement"><i class="fa fa-check"></i><b>2.3</b> Avertissement</a></li>
</ul></li>
<li class="part"><span><b>I Synthèse de la littérature</b></span></li>
<li class="chapter" data-level="3" data-path="définitions-préalables.html"><a href="définitions-préalables.html"><i class="fa fa-check"></i><b>3</b> Définitions préalables</a>
<ul>
<li class="chapter" data-level="3.1" data-path="définitions-préalables.html"><a href="définitions-préalables.html#variables-et-probabilités"><i class="fa fa-check"></i><b>3.1</b> Variables et probabilités</a></li>
<li class="chapter" data-level="3.2" data-path="définitions-préalables.html"><a href="définitions-préalables.html#mesures-deffets"><i class="fa fa-check"></i><b>3.2</b> Mesures d’effets</a>
<ul>
<li class="chapter" data-level="" data-path="définitions-préalables.html"><a href="définitions-préalables.html#concernant-les-différences-de-risques-dr-effets-additifs"><i class="fa fa-check"></i>Concernant les différences de risques (DR, effets additifs)</a></li>
<li class="chapter" data-level="" data-path="définitions-préalables.html"><a href="définitions-préalables.html#concernant-les-rapports-de-risques-effets-multiplicatifs"><i class="fa fa-check"></i>Concernant, les rapports de risques (effets multiplicatifs)</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="définitions-préalables.html"><a href="définitions-préalables.html#effets-conditionnels-et-marginaux"><i class="fa fa-check"></i><b>3.3</b> Effets conditionnels et marginaux</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="intmodif.html"><a href="intmodif.html"><i class="fa fa-check"></i><b>4</b> Interaction ou modification d’effets</a>
<ul>
<li class="chapter" data-level="4.1" data-path="intmodif.html"><a href="intmodif.html#modification-deffets"><i class="fa fa-check"></i><b>4.1</b> Modification d’effets</a></li>
<li class="chapter" data-level="4.2" data-path="intmodif.html"><a href="intmodif.html#interaction"><i class="fa fa-check"></i><b>4.2</b> Interaction</a></li>
<li class="chapter" data-level="4.3" data-path="intmodif.html"><a href="intmodif.html#synthèse"><i class="fa fa-check"></i><b>4.3</b> Synthèse</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="echelle.html"><a href="echelle.html"><i class="fa fa-check"></i><b>5</b> La question des échelles</a>
<ul>
<li class="chapter" data-level="5.1" data-path="echelle.html"><a href="echelle.html#mesures-des-interactions"><i class="fa fa-check"></i><b>5.1</b> Mesures des interactions</a>
<ul>
<li class="chapter" data-level="" data-path="echelle.html"><a href="echelle.html#echelle-additive"><i class="fa fa-check"></i>Echelle additive</a></li>
<li class="chapter" data-level="" data-path="echelle.html"><a href="echelle.html#echelle-multiplicative"><i class="fa fa-check"></i>Echelle multiplicative</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="echelle.html"><a href="echelle.html#lien-entre-les-deux-échelles"><i class="fa fa-check"></i><b>5.2</b> Lien entre les deux échelles</a>
<ul>
<li class="chapter" data-level="" data-path="echelle.html"><a href="echelle.html#un-apparent-paradoxe"><i class="fa fa-check"></i>Un apparent paradoxe</a></li>
<li class="chapter" data-level="" data-path="echelle.html"><a href="echelle.html#le-continuum"><i class="fa fa-check"></i>Le continuum</a></li>
<li class="chapter" data-level="" data-path="echelle.html"><a href="echelle.html#interactions-pures-et-qualitatives-interactions-inversées"><i class="fa fa-check"></i>Interactions pures et qualitatives, interactions inversées</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="echelle.html"><a href="echelle.html#synthèse-1"><i class="fa fa-check"></i><b>5.3</b> Synthèse</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="param.html"><a href="param.html"><i class="fa fa-check"></i><b>6</b> Types de paramètres</a>
<ul>
<li class="chapter" data-level="6.1" data-path="param.html"><a href="param.html#sur-léchelle-multiplicative"><i class="fa fa-check"></i><b>6.1</b> Sur l’échelle multiplicative</a>
<ul>
<li class="chapter" data-level="" data-path="param.html"><a href="param.html#avec-les-risques-relatifs-mi"><i class="fa fa-check"></i>Avec les risques relatifs (MI)</a></li>
<li class="chapter" data-level="" data-path="param.html"><a href="param.html#avec-les-odds-ratio-mi"><i class="fa fa-check"></i>Avec les Odds Ratio (MI)</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="param.html"><a href="param.html#sur-léchelle-additive"><i class="fa fa-check"></i><b>6.2</b> Sur l’échelle additive</a>
<ul>
<li class="chapter" data-level="" data-path="param.html"><a href="param.html#avec-les-différences-de-risques-ai"><i class="fa fa-check"></i>Avec les différences de risques (AI)</a></li>
<li class="chapter" data-level="" data-path="param.html"><a href="param.html#excès-de-risque-à-partir-des-rr-reri"><i class="fa fa-check"></i>Excès de risque, à partir des RR (RERI)</a></li>
<li class="chapter" data-level="" data-path="param.html"><a href="param.html#le-synergie-index-si"><i class="fa fa-check"></i>Le “Synergie index” (SI)</a></li>
<li class="chapter" data-level="" data-path="param.html"><a href="param.html#proportion-attribuable-ap"><i class="fa fa-check"></i>Proportion attribuable (AP)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Estimations, Interprétations, Présentations</b></span></li>
<li class="chapter" data-level="7" data-path="présentation-des-résultats.html"><a href="présentation-des-résultats.html"><i class="fa fa-check"></i><b>7</b> Présentation des résultats</a>
<ul>
<li class="chapter" data-level="7.1" data-path="présentation-des-résultats.html"><a href="présentation-des-résultats.html#recommandations"><i class="fa fa-check"></i><b>7.1</b> Recommandations</a>
<ul>
<li class="chapter" data-level="" data-path="présentation-des-résultats.html"><a href="présentation-des-résultats.html#pour-une-analyse-dune-modification-deffet-de-small-x-sur-small-y-par-small-v"><i class="fa fa-check"></i>Pour une analyse d’une modification d’effet de <span class="math inline">\(\small X\)</span> sur <span class="math inline">\(\small Y\)</span> par <span class="math inline">\(\small V\)</span></a></li>
<li class="chapter" data-level="" data-path="présentation-des-résultats.html"><a href="présentation-des-résultats.html#interaction-small-xv-sur-small-y"><i class="fa fa-check"></i>Interaction <span class="math inline">\(\small X*V\)</span> sur <span class="math inline">\(\small Y\)</span></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="présentation-des-résultats.html"><a href="présentation-des-résultats.html#proposition"><i class="fa fa-check"></i><b>7.2</b> Proposition</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="simulations.html"><a href="simulations.html"><i class="fa fa-check"></i><b>8</b> Simulations</a></li>
<li class="chapter" data-level="9" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>9</b> A partir de modèles de régression</a>
<ul>
<li class="chapter" data-level="9.1" data-path="regression.html"><a href="regression.html#régression-logistique"><i class="fa fa-check"></i><b>9.1</b> Régression logistique</a></li>
<li class="chapter" data-level="9.2" data-path="regression.html"><a href="regression.html#régression-lineaire"><i class="fa fa-check"></i><b>9.2</b> Régression lineaire</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="conf.html"><a href="conf.html"><i class="fa fa-check"></i><b>10</b> Approches causales</a>
<ul>
<li class="chapter" data-level="10.1" data-path="conf.html"><a href="conf.html#estimation-par-g-computation"><i class="fa fa-check"></i><b>10.1</b> Estimation par G-computation</a></li>
<li class="chapter" data-level="10.2" data-path="conf.html"><a href="conf.html#estimation-par-modèle-structurel-marginal"><i class="fa fa-check"></i><b>10.2</b> Estimation par Modèle Structurel Marginal</a></li>
<li class="chapter" data-level="10.3" data-path="conf.html"><a href="conf.html#estimation-avec-tmle"><i class="fa fa-check"></i><b>10.3</b> Estimation avec TMLE</a>
<ul>
<li class="chapter" data-level="" data-path="conf.html"><a href="conf.html#tmle"><i class="fa fa-check"></i>TMLE</a></li>
<li class="chapter" data-level="" data-path="conf.html"><a href="conf.html#iptw"><i class="fa fa-check"></i>IPTW</a></li>
<li class="chapter" data-level="" data-path="conf.html"><a href="conf.html#g-computation"><i class="fa fa-check"></i>G-computation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="graph.html"><a href="graph.html"><i class="fa fa-check"></i><b>11</b> Représentations graphiques</a></li>
<li class="part"><span><b>III En pratique</b></span></li>
<li class="chapter" data-level="12" data-path="proposition-détapes.html"><a href="proposition-détapes.html"><i class="fa fa-check"></i><b>12</b> Proposition d’étapes</a></li>
<li class="chapter" data-level="13" data-path="exemple-1---y-binaire.html"><a href="exemple-1---y-binaire.html"><i class="fa fa-check"></i><b>13</b> Exemple 1 - Y binaire</a></li>
<li class="chapter" data-level="14" data-path="exemple-2---y-quantitatif.html"><a href="exemple-2---y-quantitatif.html"><i class="fa fa-check"></i><b>14</b> Exemple 2 - Y quantitatif</a>
<ul>
<li class="chapter" data-level="14.1" data-path="exemple-2---y-quantitatif.html"><a href="exemple-2---y-quantitatif.html#formuler-les-objectifs"><i class="fa fa-check"></i><b>14.1</b> Formuler les objectifs</a></li>
<li class="chapter" data-level="14.2" data-path="exemple-2---y-quantitatif.html"><a href="exemple-2---y-quantitatif.html#stratégies-et-méthodes"><i class="fa fa-check"></i><b>14.2</b> Stratégies et méthodes</a></li>
<li class="chapter" data-level="14.3" data-path="exemple-2---y-quantitatif.html"><a href="exemple-2---y-quantitatif.html#analyse-descriptive"><i class="fa fa-check"></i><b>14.3</b> Analyse descriptive</a></li>
<li class="chapter" data-level="14.4" data-path="exemple-2---y-quantitatif.html"><a href="exemple-2---y-quantitatif.html#analyse-exploratoire"><i class="fa fa-check"></i><b>14.4</b> Analyse exploratoire</a></li>
<li class="chapter" data-level="14.5" data-path="exemple-2---y-quantitatif.html"><a href="exemple-2---y-quantitatif.html#analyse-confirmatoire"><i class="fa fa-check"></i><b>14.5</b> Analyse confirmatoire</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="exemple-4---x-quantitatif.html"><a href="exemple-4---x-quantitatif.html"><i class="fa fa-check"></i><b>15</b> Exemple 4 - X quantitatif</a>
<ul>
<li class="chapter" data-level="15.1" data-path="exemple-4---x-quantitatif.html"><a href="exemple-4---x-quantitatif.html#formuler-les-objectifs-1"><i class="fa fa-check"></i><b>15.1</b> Formuler les objectifs</a></li>
<li class="chapter" data-level="15.2" data-path="exemple-4---x-quantitatif.html"><a href="exemple-4---x-quantitatif.html#stratégies-et-méthodes-1"><i class="fa fa-check"></i><b>15.2</b> Stratégies et méthodes</a></li>
<li class="chapter" data-level="15.3" data-path="exemple-4---x-quantitatif.html"><a href="exemple-4---x-quantitatif.html#analyse-descriptive-1"><i class="fa fa-check"></i><b>15.3</b> Analyse descriptive</a></li>
<li class="chapter" data-level="15.4" data-path="exemple-4---x-quantitatif.html"><a href="exemple-4---x-quantitatif.html#analyse-exploratoire-1"><i class="fa fa-check"></i><b>15.4</b> Analyse exploratoire</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="exemple-4---x-quantitatif.html"><a href="exemple-4---x-quantitatif.html#régression-logistique-1"><i class="fa fa-check"></i><b>15.4.1</b> Régression logistique</a></li>
<li class="chapter" data-level="15.4.2" data-path="exemple-4---x-quantitatif.html"><a href="exemple-4---x-quantitatif.html#régression-linéaire"><i class="fa fa-check"></i><b>15.4.2</b> Régression linéaire</a></li>
<li class="chapter" data-level="15.4.3" data-path="exemple-4---x-quantitatif.html"><a href="exemple-4---x-quantitatif.html#effets-marginaux"><i class="fa fa-check"></i><b>15.4.3</b> Effets marginaux</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="exemple-4---x-quantitatif.html"><a href="exemple-4---x-quantitatif.html#analyse-confirmatoire-1"><i class="fa fa-check"></i><b>15.5</b> Analyse confirmatoire</a></li>
</ul></li>
<li class="part"><span><b>IV Conclusion</b></span></li>
<li class="chapter" data-level="16" data-path="synthèse-générale.html"><a href="synthèse-générale.html"><i class="fa fa-check"></i><b>16</b> Synthèse générale</a></li>
<li class="chapter" data-level="17" data-path="plusloin.html"><a href="plusloin.html"><i class="fa fa-check"></i><b>17</b> Pour aller plus loin…</a>
<ul>
<li class="chapter" data-level="17.1" data-path="plusloin.html"><a href="plusloin.html#ajouter-de-la-complexité"><i class="fa fa-check"></i><b>17.1</b> Ajouter de la complexité</a></li>
<li class="chapter" data-level="17.2" data-path="plusloin.html"><a href="plusloin.html#interaction-avec-confusion-intermédiaire"><i class="fa fa-check"></i><b>17.2</b> Interaction avec confusion intermédiaire</a></li>
<li class="chapter" data-level="17.3" data-path="plusloin.html"><a href="plusloin.html#interaction-et-médiation"><i class="fa fa-check"></i><b>17.3</b> Interaction et médiation</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="références.html"><a href="références.html"><i class="fa fa-check"></i><b>18</b> Références</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Interactions et modifications d’effet <br> en Epidémiologie</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exemple-4---x-quantitatif" class="section level1 hasAnchor" number="15">
<h1><span class="header-section-number">Chapitre 15</span> Exemple 4 - X quantitatif<a href="exemple-4---x-quantitatif.html#exemple-4---x-quantitatif" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Les articles qui se consacrent aux interactions présentent souvent des méthodes applicables lorsque les deux expositions X et V sont binaires. Or, en épidémiologie, les expositions peuvent aussi être continues et, si dichotomiser ces variables peut simplifier l’approche de l’interaction, cela conduit à une perte d’information qui n’est pas souhaitable et pose la question complexe du choix des seuils <span class="citation">[<a href="#ref-royston2006dichotomizing" role="doc-biblioref">11</a>]</span> <span class="citation">[<a href="#ref-knol2007estimating" role="doc-biblioref">12</a>]</span> <span class="citation">[<a href="#ref-cadarso2006effect" role="doc-biblioref">13</a>]</span>.</p>
<p>Nous présentons ici un exemple dans lequel l’une des expositions, l’âge, est analysée en tant que variable quantitative continue.</p>
<div id="formuler-les-objectifs-1" class="section level2 hasAnchor" number="15.1">
<h2><span class="header-section-number">15.1</span> Formuler les objectifs<a href="exemple-4---x-quantitatif.html#formuler-les-objectifs-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Dans cette étude fictive, on s’est intéressé à la consommation de cannabis : comment le fait d’avoir déjà fumé du cannabis Y varie avec l’âge A et le sexe S.</p>
<p>La démarche est explicative : on cherche à comprendre les mécanismes causaux de ce comportement de santé.</p>
<p>Ici, on adoptera une démarche d’analyse d’interaction <span class="math inline">\(\small do(S,A)\)</span></p>
</div>
<div id="stratégies-et-méthodes-1" class="section level2 hasAnchor" number="15.2">
<h2><span class="header-section-number">15.2</span> Stratégies et méthodes<a href="exemple-4---x-quantitatif.html#stratégies-et-méthodes-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Le DAG</strong> (sans les médiateurs) était :</p>
<blockquote>
<p><img src="img/Image14.png" style="width:50.0%" /></p>
</blockquote>
<p><strong>Les estimands</strong> était définis par :</p>
<ul>
<li>L’effet de l’âge (“avoir 10 ans de plus”) chez les hommes
<ul>
<li><span class="math inline">\(\small DR = Y_{S=0,A=a+10} - Y_{S=0,A=a}\)</span></li>
<li><span class="math inline">\(\small RR = \frac{Y_{S=0,A=a+10}}{Y_{S=0,A=a}}\)</span></li>
</ul></li>
<li>L’effet de l’âge (“avoir 10 ans de plus”) chez les femmes :
<ul>
<li><span class="math inline">\(\small DR = Y_{S=1,A=a+10} - Y_{S=1,A=a}\)</span></li>
<li><span class="math inline">\(\small RR = \frac{Y_{S=1,A=a+10}}{Y_{S=1,A=a}}\)</span></li>
</ul></li>
<li>L’effet d’interaction entre l’âge et le sexe (l’effet du sexe est-il différent en fonction de l’âge et l’effet de l’âge est-il différent en fonction du sexe ?)
<ul>
<li>sur l’échelle additive : <span class="math inline">\(\small AI = Y_{S=1,A=a+10} - Y_{S=0,A=a+10} - Y_{S=1,A=a} + Y_{S=0,A=a+10}\)</span></li>
<li>sur l’échelle multiplicative : <span class="math inline">\(\small MI =\frac{Y_{S=1,A=a+10} \times Y_{S=0,A=a}}{Y_{S=1,A=a} \times Y_{S=0,A=a+10}}\)</span></li>
</ul></li>
</ul>
</div>
<div id="analyse-descriptive-1" class="section level2 hasAnchor" number="15.3">
<h2><span class="header-section-number">15.3</span> Analyse descriptive<a href="exemple-4---x-quantitatif.html#analyse-descriptive-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Dans cette population (N=202 768), il y avait 53,7% d’hommes et la moyenne d’âge était de 47,1 ans.</p>
<p>On peut commencer par décrire la proportion de personnes ayant déjà fumé du cannabis par sexe et classe d’âge :</p>
<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Sexe
</th>
<th style="text-align:left;">
Age
</th>
<th style="text-align:left;">
P(Cannabis), %
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Male
</td>
<td style="text-align:left;">
20-
</td>
<td style="text-align:left;">
51,1
</td>
</tr>
<tr>
<td style="text-align:left;">
Male
</td>
<td style="text-align:left;">
]20 à 40]
</td>
<td style="text-align:left;">
66,3
</td>
</tr>
<tr>
<td style="text-align:left;">
Male
</td>
<td style="text-align:left;">
]40 à 60]
</td>
<td style="text-align:left;">
40,4
</td>
</tr>
<tr>
<td style="text-align:left;">
Male
</td>
<td style="text-align:left;">
60+
</td>
<td style="text-align:left;">
12,1
</td>
</tr>
<tr>
<td style="text-align:left;">
Female
</td>
<td style="text-align:left;">
20-
</td>
<td style="text-align:left;">
44,2
</td>
</tr>
<tr>
<td style="text-align:left;">
Female
</td>
<td style="text-align:left;">
]20 à 40]
</td>
<td style="text-align:left;">
52,7
</td>
</tr>
<tr>
<td style="text-align:left;">
Female
</td>
<td style="text-align:left;">
]40 à 60]
</td>
<td style="text-align:left;">
26,7
</td>
</tr>
<tr>
<td style="text-align:left;">
Female
</td>
<td style="text-align:left;">
60+
</td>
<td style="text-align:left;">
12,1
</td>
</tr>
</tbody>
</table>
<p>Il semble y avoir une interaction entre l’âge et le sexe sur la probabilité d’avoir déjà fumé du cannabis. Cependant, la relation entre l’âge et l’outcome ne semble pas linéaire, ce qui est confirmé graphiquement :</p>
<p><img src="img/graph_Xquanti_1.png" style="width:80.0%" /></p>
<p>Pour simplifier les analyses, nous n’allons inclure que les plus de 30 ans (N = 177 940), pour lesquels la relation est linéaire :</p>
<p><img src="img/graph_Xquanti_2.png" style="width:80.0%" /></p>
<p>Le modèle de régression logistique (<span class="math inline">\(\cdot\cdot\cdot\)</span>) semble être plus proche de la modélisation non paramétrique sur données observées (loess, —–) que la modélisation linaire (<span class="math inline">\(---\)</span>) . D’ailleurs, le R² du modèle logistique est de 0,168 contre 0,139 pour le modèle linéaire.</p>
</div>
<div id="analyse-exploratoire-1" class="section level2 hasAnchor" number="15.4">
<h2><span class="header-section-number">15.4</span> Analyse exploratoire<a href="exemple-4---x-quantitatif.html#analyse-exploratoire-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="régression-logistique-1" class="section level3 hasAnchor" number="15.4.1">
<h3><span class="header-section-number">15.4.1</span> Régression logistique<a href="exemple-4---x-quantitatif.html#régression-logistique-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>L’outcome étant binaire, il est plus classique d’utiliser un modèle logistique, dont les résultats seraient :</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="exemple-4---x-quantitatif.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Call:</span></span>
<span id="cb17-2"><a href="exemple-4---x-quantitatif.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co"># glm(formula = cannabis ~ sexe + age + sexe * age, family = binomial, </span></span>
<span id="cb17-3"><a href="exemple-4---x-quantitatif.html#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">#     data = data)</span></span>
<span id="cb17-4"><a href="exemple-4---x-quantitatif.html#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb17-5"><a href="exemple-4---x-quantitatif.html#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Coefficients:</span></span>
<span id="cb17-6"><a href="exemple-4---x-quantitatif.html#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co">#                 Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span id="cb17-7"><a href="exemple-4---x-quantitatif.html#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co"># (Intercept)    3.9144609  0.0372560  105.07   &lt;2e-16 ***</span></span>
<span id="cb17-8"><a href="exemple-4---x-quantitatif.html#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># sexeWomen     -1.1644706  0.0511834  -22.75   &lt;2e-16 ***</span></span>
<span id="cb17-9"><a href="exemple-4---x-quantitatif.html#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co"># age           -0.0882928  0.0007566 -116.70   &lt;2e-16 ***</span></span>
<span id="cb17-10"><a href="exemple-4---x-quantitatif.html#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co"># sexeWomen:age  0.0117238  0.0010623   11.04   &lt;2e-16 ***</span></span>
<span id="cb17-11"><a href="exemple-4---x-quantitatif.html#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ---</span></span>
<span id="cb17-12"><a href="exemple-4---x-quantitatif.html#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span></span></code></pre></div>
<p>Ce qui, en terme d’OR, donnerait :</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="exemple-4---x-quantitatif.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#                       OR      2.5 %     97.5 %</span></span>
<span id="cb18-2"><a href="exemple-4---x-quantitatif.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (Intercept)   50.1220409 46.5985990 53.9259952</span></span>
<span id="cb18-3"><a href="exemple-4---x-quantitatif.html#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># sexeWomen      0.3120878  0.2822910  0.3450107</span></span>
<span id="cb18-4"><a href="exemple-4---x-quantitatif.html#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># age            0.9154927  0.9141333  0.9168485</span></span>
<span id="cb18-5"><a href="exemple-4---x-quantitatif.html#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co"># sexeWomen:age  1.0117927  1.0096884  1.0139018</span></span></code></pre></div>
<p>Les modèles de régression logistique donnent des résulats sur l’échelle multiplicative :</p>
<ul>
<li>L’effet du sexe (d’être femme plutot que homme) est :
<ul>
<li>“A 0 ans” (à l’origine) : <span class="math inline">\(\small OR(S|A=0) = \times 0.31\)</span></li>
<li>“A 1 ans” : <span class="math inline">\(\small OR(S|A=1) = exp(-1,164 + 0,012) \times\)</span> 0.32</li>
<li>A 40 ans (par exemple) : <span class="math inline">\(\small OR(S|A=40) = exp(-1,164 + 0,012 \times 40) = \times\)</span> 0.5</li>
</ul></li>
<li>L’effet de l’age est :
<ul>
<li>Quand on est un homme : <span class="math inline">\(\small OR(A|S=0) = exp(-0,088\times 10 ) = \times\)</span> 0.41 par 10 ans</li>
<li>Quand on est une femme : <span class="math inline">\(\small OR(A|S=1) = exp(-0,088\times 10 + 0,012\times 10) = \times\)</span> 0.47 par 10 ans</li>
</ul></li>
<li>L’effet d’être une femme et d’avoir 10 ans de plus
<ul>
<li>plutot que homme “et 0 ans”</li>
<li><span class="math inline">\(\small OR(A,S) = exp(-1,164 -0,088\times 10 + 0,012\times 10) = \times\)</span> 0.15</li>
</ul></li>
<li><strong>L’effet d’interaction/modification d’effet</strong> est :
<ul>
<li><span class="math inline">\(\small MI =\times 1,01\)</span> sur 1 an</li>
<li><span class="math inline">\(\small MI_{10} = exp(0,012\times 10 ) = \times\)</span> 1.13 sur 10 ans</li>
</ul></li>
<li><strong>Un effet d’interaction additif</strong>
<ul>
<li><span class="math inline">\(\small RERI_{OR} = OR_{11} - OR_{01} - OR_{10} + 1 =\)</span> 0.047 pour 1 ans</li>
<li><span class="math inline">\(\small RERI_{OR,10} =\)</span> 0.362</li>
</ul></li>
</ul>
<p>On a donc une interaction multiplicative positive (MI&gt;1) et significative et une interaction additive aussi positive (RERI &gt;0).</p>
</div>
<div id="régression-linéaire" class="section level3 hasAnchor" number="15.4.2">
<h3><span class="header-section-number">15.4.2</span> Régression linéaire<a href="exemple-4---x-quantitatif.html#régression-linéaire" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La sortie d’une modèle linéaire simple serait :</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="exemple-4---x-quantitatif.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb19-2"><a href="exemple-4---x-quantitatif.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Call:</span></span>
<span id="cb19-3"><a href="exemple-4---x-quantitatif.html#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># lm(formula = cannabis ~ sexe + age + sexe * age, data = data)</span></span>
<span id="cb19-4"><a href="exemple-4---x-quantitatif.html#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb19-5"><a href="exemple-4---x-quantitatif.html#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Coefficients:</span></span>
<span id="cb19-6"><a href="exemple-4---x-quantitatif.html#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co">#                 Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb19-7"><a href="exemple-4---x-quantitatif.html#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co"># (Intercept)    1.3197103  0.0066820  197.50   &lt;2e-16 ***</span></span>
<span id="cb19-8"><a href="exemple-4---x-quantitatif.html#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co"># sexeWomen     -0.3373482  0.0091573  -36.84   &lt;2e-16 ***</span></span>
<span id="cb19-9"><a href="exemple-4---x-quantitatif.html#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co"># age           -0.0183730  0.0001294 -142.03   &lt;2e-16 ***</span></span>
<span id="cb19-10"><a href="exemple-4---x-quantitatif.html#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co"># sexeWomen:age  0.0044248  0.0001781   24.85   &lt;2e-16 ***</span></span>
<span id="cb19-11"><a href="exemple-4---x-quantitatif.html#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span></span></code></pre></div>
<p>On peut en déduire, ici sur une échelle additive, que :</p>
<ul>
<li>L’effet du sexe (d’être femme plutot que homme) est :
<ul>
<li>“A 0 ans” (à l’origine) : <span class="math inline">\(\small DR(S|A=0) = -33,73\)</span>%</li>
<li>A 20 ans (par exemple) : <span class="math inline">\(\small DR(S|A=20) = -33,73 + 0,44 \times 20 =\)</span> -24.93%</li>
<li>A 40 ans (par exemple) : <span class="math inline">\(\small DR(S|A=40) = -33,73 + 0,44 \times 40 =\)</span> -16.13%</li>
<li>A 60 ans (par exemple) : <span class="math inline">\(\small DR(S|A=60) = -33,73 + 0,44 \times 60 =\)</span> -7.33%</li>
</ul></li>
<li>L’effet de l’age est :
<ul>
<li>Quand on est un homme : <span class="math inline">\(\small DR(A|S=0) = -1,84\times 10 =\)</span> -18.4% par 10 ans</li>
<li>Quand on est une femme : <span class="math inline">\(\small DR(A|S=1) = -1,84\times 10 + 0.44\times 10 =\)</span> -14 % par année d’âge</li>
</ul></li>
<li>L’effet d’être une femme et d’avoir 10 ans de plus
<ul>
<li>plutot que homme et un certain âge</li>
<li><span class="math inline">\(\small DR(A,S) = -33,73 -1,84\times 10 + 0,44\times 10 =\)</span> -47.73 %</li>
</ul></li>
<li><strong>L’effet d’interaction/modification d’effet</strong> est :
<ul>
<li><span class="math inline">\(\small AI = +0.44\)</span>`%</li>
<li><span class="math inline">\(\small AI_{10} = +0.44\times 10 =\)</span> 4.4%</li>
</ul></li>
</ul>
<p>On retrouve une interaction additive significative et positive. Les expositions ayant un effet négatif et l’effet d’interaction étant positif, cet effet est difficile à interpréter, mais on pourrait le formuler plus simplement en changeant la catégorie de référence du sexe de homme à femme.</p>
<p>Ainsi : globalement, la probabilité d’avoir déjà fumer du cannabis diminue avec l’âge chez les hommes (-1,8% par an) et chez les femmes (-1,4% par an). Cette probabilité est plus élevée chez les hommes (de 16% par exemple à 40 ans), mais cet écart diminue avec l’âge, de 4,4% tous les 10 ans.</p>
</div>
<div id="effets-marginaux" class="section level3 hasAnchor" number="15.4.3">
<h3><span class="header-section-number">15.4.3</span> Effets marginaux<a href="exemple-4---x-quantitatif.html#effets-marginaux" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A partir des modèles, on peut déduire les effets marginaux pour certaines catégories. Par exemple, avec le modèle logistique :</p>
<ul>
<li><span class="math inline">\(\small Y_{S=0,A=30} = \frac{exp(3,914 - 0,088 \times 30)}{1+exp(3,914 - 0,088 \times 30)} =\)</span> 78.1%</li>
<li><span class="math inline">\(\small Y_{S=0,A=50} = \frac{exp(3,914 - 0,088 \times 50)}{1+exp(3,914 - 0,088 \times 50)} =\)</span> 38.1%</li>
<li><span class="math inline">\(\small Y_{S=1,A=30} = \frac{exp(3,914 - 1,164 - 0,088 \times 30 + 0,012 \times 30)}{1+exp(3,914 - 1,164 - 0,088 \times 30 + 0,012 \times 30)} =\)</span> 61.5%</li>
<li><span class="math inline">\(\small Y_{S=1,A=50} = \frac{exp(3,914 - 1,164 - 0,088 \times 50 + 0,012 \times 50)}{1+exp(3,914 - 1,164 - 0,088 \times 50 + 0,012 \times 50)} =\)</span> 25.9%</li>
</ul>
<p>Avec le modèle linéaire, on aurait :</p>
<ul>
<li><span class="math inline">\(\small Y_{S=0,A=30} = 131,97 - 1,84 \times 30 =\)</span> 76.8%</li>
<li><span class="math inline">\(\small Y_{S=0,A=50} = 131,97 - 1,84 \times 50 =\)</span> 40%</li>
<li><span class="math inline">\(\small Y_{S=1,A=30} = 131,97 -33,73 - 1,84 \times 30 + 0,44 \times 30 =\)</span> 56.2%</li>
<li><span class="math inline">\(\small Y_{S=1,A=50} = 131,97 -33,73 - 1,84 \times 50 + 0,44 \times 50 =\)</span> 28.2%</li>
</ul>
</div>
</div>
<div id="analyse-confirmatoire-1" class="section level2 hasAnchor" number="15.5">
<h2><span class="header-section-number">15.5</span> Analyse confirmatoire<a href="exemple-4---x-quantitatif.html#analyse-confirmatoire-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Nous avons calculé les effets d’intérêt avec une méthode de modèle structurel marginal (Intervalles de confiance estimé par bootstrap, 200 répétitions), le modèle utilisé pour prédire les outcomes contrefactuels étaient un modèle de régression logistique.</p>
<p>Le code était :</p>
<script type="text/javascript">

function toggle_R() {
  var x = document.getElementsByClassName('r');
  if (x.length == 0) return;
  function toggle_vis(o) {
    var d = o.style.display;
    o.style.display = (d == 'block' || d == '') ? 'none':'block';
  }

  for (i = 0; i < x.length; i++) {
    var y = x[i];
    if (y.tagName.toLowerCase() === 'pre') toggle_vis(y);
  }

    var elem = document.getElementById("myButton1");
    if (elem.value === "Hide Code") elem.value = "Show Code";
    else elem.value = "Hide Code";
}

document.write('<input onclick="toggle_R();" type="button" value="Hide Code" id="myButton1" style="position: static; top: 1%; left: 2%; z-index: 200"></input>')

</script>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="exemple-4---x-quantitatif.html#cb20-1" aria-hidden="true" tabindex="-1"></a>     B<span class="ot">=</span><span class="dv">200</span></span>
<span id="cb20-2"><a href="exemple-4---x-quantitatif.html#cb20-2" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb20-3"><a href="exemple-4---x-quantitatif.html#cb20-3" aria-hidden="true" tabindex="-1"></a>     simu.base <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">i.simu=</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>B))</span>
<span id="cb20-4"><a href="exemple-4---x-quantitatif.html#cb20-4" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb20-5"><a href="exemple-4---x-quantitatif.html#cb20-5" aria-hidden="true" tabindex="-1"></a>     <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>B){ </span>
<span id="cb20-6"><a href="exemple-4---x-quantitatif.html#cb20-6" aria-hidden="true" tabindex="-1"></a>       <span class="co"># sample the indices 1 to n with replacement</span></span>
<span id="cb20-7"><a href="exemple-4---x-quantitatif.html#cb20-7" aria-hidden="true" tabindex="-1"></a>       bootIndices <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(data), <span class="at">replace=</span>T) ;    <span class="fu">set.seed</span>(<span class="dv">01062023</span><span class="sc">+</span>i<span class="sc">*</span><span class="dv">12</span>)</span>
<span id="cb20-8"><a href="exemple-4---x-quantitatif.html#cb20-8" aria-hidden="true" tabindex="-1"></a>       bootData <span class="ot">&lt;-</span> data[bootIndices,]</span>
<span id="cb20-9"><a href="exemple-4---x-quantitatif.html#cb20-9" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb20-10"><a href="exemple-4---x-quantitatif.html#cb20-10" aria-hidden="true" tabindex="-1"></a>       <span class="co">#modèle</span></span>
<span id="cb20-11"><a href="exemple-4---x-quantitatif.html#cb20-11" aria-hidden="true" tabindex="-1"></a>       Q.model <span class="ot">&lt;-</span> <span class="fu">glm</span>(<span class="at">data=</span>bootData, <span class="at">formula =</span> cannabis <span class="sc">~</span> sexe<span class="sc">+</span></span>
<span id="cb20-12"><a href="exemple-4---x-quantitatif.html#cb20-12" aria-hidden="true" tabindex="-1"></a>                        age<span class="sc">+</span>  sexe<span class="sc">*</span>age,<span class="at">family =</span> binomial)</span>
<span id="cb20-13"><a href="exemple-4---x-quantitatif.html#cb20-13" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb20-14"><a href="exemple-4---x-quantitatif.html#cb20-14" aria-hidden="true" tabindex="-1"></a>       <span class="co"># Scénarios #</span></span>
<span id="cb20-15"><a href="exemple-4---x-quantitatif.html#cb20-15" aria-hidden="true" tabindex="-1"></a>       data.S1 <span class="ot">&lt;-</span>  data.S2 <span class="ot">&lt;-</span> predict_data</span>
<span id="cb20-16"><a href="exemple-4---x-quantitatif.html#cb20-16" aria-hidden="true" tabindex="-1"></a>       data.S1<span class="sc">$</span>sexe <span class="ot">&lt;-</span> <span class="st">&quot;Women&quot;</span></span>
<span id="cb20-17"><a href="exemple-4---x-quantitatif.html#cb20-17" aria-hidden="true" tabindex="-1"></a>       data.S2<span class="sc">$</span>sexe <span class="ot">&lt;-</span> <span class="st">&quot;Men&quot;</span></span>
<span id="cb20-18"><a href="exemple-4---x-quantitatif.html#cb20-18" aria-hidden="true" tabindex="-1"></a>       data.S1A30 <span class="ot">&lt;-</span>  data.S1A40 <span class="ot">&lt;-</span> data.S1A50 <span class="ot">&lt;-</span> data.S1A60 <span class="ot">&lt;-</span> data.S1A70 <span class="ot">&lt;-</span> data.S1</span>
<span id="cb20-19"><a href="exemple-4---x-quantitatif.html#cb20-19" aria-hidden="true" tabindex="-1"></a>       data.S1A35 <span class="ot">&lt;-</span>  data.S1A45 <span class="ot">&lt;-</span> data.S1A55 <span class="ot">&lt;-</span> data.S1A65 <span class="ot">&lt;-</span> data.S1</span>
<span id="cb20-20"><a href="exemple-4---x-quantitatif.html#cb20-20" aria-hidden="true" tabindex="-1"></a>       data.S2A30 <span class="ot">&lt;-</span>  data.S2A40 <span class="ot">&lt;-</span> data.S2A50 <span class="ot">&lt;-</span> data.S2A60 <span class="ot">&lt;-</span> data.S2A70 <span class="ot">&lt;-</span> data.S2</span>
<span id="cb20-21"><a href="exemple-4---x-quantitatif.html#cb20-21" aria-hidden="true" tabindex="-1"></a>       data.S2A35 <span class="ot">&lt;-</span>  data.S2A45 <span class="ot">&lt;-</span> data.S2A55 <span class="ot">&lt;-</span> data.S2A65 <span class="ot">&lt;-</span> data.S2</span>
<span id="cb20-22"><a href="exemple-4---x-quantitatif.html#cb20-22" aria-hidden="true" tabindex="-1"></a>       data.S1A30<span class="sc">$</span>age <span class="ot">&lt;-</span> data.S2A30<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb20-23"><a href="exemple-4---x-quantitatif.html#cb20-23" aria-hidden="true" tabindex="-1"></a>       data.S1A35<span class="sc">$</span>age <span class="ot">&lt;-</span> data.S2A35<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="dv">35</span></span>
<span id="cb20-24"><a href="exemple-4---x-quantitatif.html#cb20-24" aria-hidden="true" tabindex="-1"></a>       data.S1A40<span class="sc">$</span>age <span class="ot">&lt;-</span> data.S2A40<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="dv">40</span></span>
<span id="cb20-25"><a href="exemple-4---x-quantitatif.html#cb20-25" aria-hidden="true" tabindex="-1"></a>       data.S1A45<span class="sc">$</span>age <span class="ot">&lt;-</span> data.S2A45<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="dv">45</span></span>
<span id="cb20-26"><a href="exemple-4---x-quantitatif.html#cb20-26" aria-hidden="true" tabindex="-1"></a>       data.S1A50<span class="sc">$</span>age <span class="ot">&lt;-</span> data.S2A50<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb20-27"><a href="exemple-4---x-quantitatif.html#cb20-27" aria-hidden="true" tabindex="-1"></a>       data.S1A55<span class="sc">$</span>age <span class="ot">&lt;-</span> data.S2A55<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="dv">55</span></span>
<span id="cb20-28"><a href="exemple-4---x-quantitatif.html#cb20-28" aria-hidden="true" tabindex="-1"></a>       data.S1A60<span class="sc">$</span>age <span class="ot">&lt;-</span> data.S2A60<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="dv">60</span></span>
<span id="cb20-29"><a href="exemple-4---x-quantitatif.html#cb20-29" aria-hidden="true" tabindex="-1"></a>       data.S1A65<span class="sc">$</span>age <span class="ot">&lt;-</span> data.S2A65<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="dv">65</span></span>
<span id="cb20-30"><a href="exemple-4---x-quantitatif.html#cb20-30" aria-hidden="true" tabindex="-1"></a>       data.S1A70<span class="sc">$</span>age <span class="ot">&lt;-</span> data.S2A70<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="dv">70</span></span>
<span id="cb20-31"><a href="exemple-4---x-quantitatif.html#cb20-31" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb20-32"><a href="exemple-4---x-quantitatif.html#cb20-32" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb20-33"><a href="exemple-4---x-quantitatif.html#cb20-33" aria-hidden="true" tabindex="-1"></a>       <span class="co"># Y contrefactuel</span></span>
<span id="cb20-34"><a href="exemple-4---x-quantitatif.html#cb20-34" aria-hidden="true" tabindex="-1"></a>       Y.S1A30.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S1A30, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-35"><a href="exemple-4---x-quantitatif.html#cb20-35" aria-hidden="true" tabindex="-1"></a>       Y.S1A40.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S1A40, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-36"><a href="exemple-4---x-quantitatif.html#cb20-36" aria-hidden="true" tabindex="-1"></a>       Y.S1A50.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S1A50, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-37"><a href="exemple-4---x-quantitatif.html#cb20-37" aria-hidden="true" tabindex="-1"></a>       Y.S1A60.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S1A60, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-38"><a href="exemple-4---x-quantitatif.html#cb20-38" aria-hidden="true" tabindex="-1"></a>       Y.S1A70.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S1A70, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-39"><a href="exemple-4---x-quantitatif.html#cb20-39" aria-hidden="true" tabindex="-1"></a>       Y.S2A30.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S2A30, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-40"><a href="exemple-4---x-quantitatif.html#cb20-40" aria-hidden="true" tabindex="-1"></a>       Y.S2A40.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S2A40, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-41"><a href="exemple-4---x-quantitatif.html#cb20-41" aria-hidden="true" tabindex="-1"></a>       Y.S2A50.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S2A50, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-42"><a href="exemple-4---x-quantitatif.html#cb20-42" aria-hidden="true" tabindex="-1"></a>       Y.S2A60.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S2A60, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-43"><a href="exemple-4---x-quantitatif.html#cb20-43" aria-hidden="true" tabindex="-1"></a>       Y.S2A70.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S2A70, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-44"><a href="exemple-4---x-quantitatif.html#cb20-44" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb20-45"><a href="exemple-4---x-quantitatif.html#cb20-45" aria-hidden="true" tabindex="-1"></a>       Y.S1A35.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S1A35, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-46"><a href="exemple-4---x-quantitatif.html#cb20-46" aria-hidden="true" tabindex="-1"></a>       Y.S1A45.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S1A45, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-47"><a href="exemple-4---x-quantitatif.html#cb20-47" aria-hidden="true" tabindex="-1"></a>       Y.S1A55.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S1A55, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-48"><a href="exemple-4---x-quantitatif.html#cb20-48" aria-hidden="true" tabindex="-1"></a>       Y.S1A65.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S1A65, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-49"><a href="exemple-4---x-quantitatif.html#cb20-49" aria-hidden="true" tabindex="-1"></a>       Y.S2A35.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S2A35, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-50"><a href="exemple-4---x-quantitatif.html#cb20-50" aria-hidden="true" tabindex="-1"></a>       Y.S2A45.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S2A45, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-51"><a href="exemple-4---x-quantitatif.html#cb20-51" aria-hidden="true" tabindex="-1"></a>       Y.S2A55.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S2A55, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-52"><a href="exemple-4---x-quantitatif.html#cb20-52" aria-hidden="true" tabindex="-1"></a>       Y.S2A65.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Q.model, <span class="at">newdata =</span> data.S2A65, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb20-53"><a href="exemple-4---x-quantitatif.html#cb20-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-54"><a href="exemple-4---x-quantitatif.html#cb20-54" aria-hidden="true" tabindex="-1"></a>       Y <span class="ot">&lt;-</span> <span class="fu">c</span>(Y.S1A30.pred, Y.S1A40.pred, Y.S1A50.pred, Y.S1A60.pred, Y.S1A70.pred,</span>
<span id="cb20-55"><a href="exemple-4---x-quantitatif.html#cb20-55" aria-hidden="true" tabindex="-1"></a>              Y.S1A35.pred, Y.S1A45.pred, Y.S1A55.pred, Y.S1A65.pred,</span>
<span id="cb20-56"><a href="exemple-4---x-quantitatif.html#cb20-56" aria-hidden="true" tabindex="-1"></a>              Y.S2A30.pred, Y.S2A40.pred, Y.S2A50.pred, Y.S2A60.pred, Y.S2A70.pred,</span>
<span id="cb20-57"><a href="exemple-4---x-quantitatif.html#cb20-57" aria-hidden="true" tabindex="-1"></a>              Y.S2A35.pred, Y.S2A45.pred, Y.S2A55.pred, Y.S2A65.pred)</span>
<span id="cb20-58"><a href="exemple-4---x-quantitatif.html#cb20-58" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb20-59"><a href="exemple-4---x-quantitatif.html#cb20-59" aria-hidden="true" tabindex="-1"></a>     <span class="co"># On récupère les valeurs d&#39;exposition qui ont servi dans les scénarios contrefactuels</span></span>
<span id="cb20-60"><a href="exemple-4---x-quantitatif.html#cb20-60" aria-hidden="true" tabindex="-1"></a>     <span class="co"># (garder le même ordre que pour les Y.A1.A2)</span></span>
<span id="cb20-61"><a href="exemple-4---x-quantitatif.html#cb20-61" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb20-62"><a href="exemple-4---x-quantitatif.html#cb20-62" aria-hidden="true" tabindex="-1"></a>     X <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">subset</span>(data.S1A30, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-63"><a href="exemple-4---x-quantitatif.html#cb20-63" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S1A40, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-64"><a href="exemple-4---x-quantitatif.html#cb20-64" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S1A50, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-65"><a href="exemple-4---x-quantitatif.html#cb20-65" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S1A60, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-66"><a href="exemple-4---x-quantitatif.html#cb20-66" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S1A70, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-67"><a href="exemple-4---x-quantitatif.html#cb20-67" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S1A35, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-68"><a href="exemple-4---x-quantitatif.html#cb20-68" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S1A45, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-69"><a href="exemple-4---x-quantitatif.html#cb20-69" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S1A55, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-70"><a href="exemple-4---x-quantitatif.html#cb20-70" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S1A65, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-71"><a href="exemple-4---x-quantitatif.html#cb20-71" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S2A30, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-72"><a href="exemple-4---x-quantitatif.html#cb20-72" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S2A40, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-73"><a href="exemple-4---x-quantitatif.html#cb20-73" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S2A50, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-74"><a href="exemple-4---x-quantitatif.html#cb20-74" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S2A60, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-75"><a href="exemple-4---x-quantitatif.html#cb20-75" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S2A70, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-76"><a href="exemple-4---x-quantitatif.html#cb20-76" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S2A35, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-77"><a href="exemple-4---x-quantitatif.html#cb20-77" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S2A45, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-78"><a href="exemple-4---x-quantitatif.html#cb20-78" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S2A55, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)),</span>
<span id="cb20-79"><a href="exemple-4---x-quantitatif.html#cb20-79" aria-hidden="true" tabindex="-1"></a>                <span class="fu">subset</span>(data.S2A65, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;age&quot;</span>)))</span>
<span id="cb20-80"><a href="exemple-4---x-quantitatif.html#cb20-80" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb20-81"><a href="exemple-4---x-quantitatif.html#cb20-81" aria-hidden="true" tabindex="-1"></a>     <span class="do">## Modèle structurel marginal</span></span>
<span id="cb20-82"><a href="exemple-4---x-quantitatif.html#cb20-82" aria-hidden="true" tabindex="-1"></a>        <span class="co"># logistique</span></span>
<span id="cb20-83"><a href="exemple-4---x-quantitatif.html#cb20-83" aria-hidden="true" tabindex="-1"></a>         msm.glm <span class="ot">&lt;-</span> <span class="fu">glm</span>(Y <span class="sc">~</span> age <span class="sc">+</span> sexe <span class="sc">+</span> age<span class="sc">:</span>sexe, </span>
<span id="cb20-84"><a href="exemple-4---x-quantitatif.html#cb20-84" aria-hidden="true" tabindex="-1"></a>                       <span class="at">data =</span> <span class="fu">data.frame</span>(Y,X), </span>
<span id="cb20-85"><a href="exemple-4---x-quantitatif.html#cb20-85" aria-hidden="true" tabindex="-1"></a>                       <span class="at">family =</span> <span class="st">&quot;binomial&quot;</span>) </span>
<span id="cb20-86"><a href="exemple-4---x-quantitatif.html#cb20-86" aria-hidden="true" tabindex="-1"></a>        <span class="co">#linéaire pour l&#39;interaction additive</span></span>
<span id="cb20-87"><a href="exemple-4---x-quantitatif.html#cb20-87" aria-hidden="true" tabindex="-1"></a>         msm.lm <span class="ot">&lt;-</span> <span class="fu">glm</span>(Y <span class="sc">~</span> age <span class="sc">+</span> sexe <span class="sc">+</span> age<span class="sc">:</span>sexe, </span>
<span id="cb20-88"><a href="exemple-4---x-quantitatif.html#cb20-88" aria-hidden="true" tabindex="-1"></a>                        <span class="at">data =</span> <span class="fu">data.frame</span>(Y,X), </span>
<span id="cb20-89"><a href="exemple-4---x-quantitatif.html#cb20-89" aria-hidden="true" tabindex="-1"></a>                        <span class="at">family =</span> <span class="st">&quot;gaussian&quot;</span>) </span>
<span id="cb20-90"><a href="exemple-4---x-quantitatif.html#cb20-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-91"><a href="exemple-4---x-quantitatif.html#cb20-91" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Tous les effets</span></span>
<span id="cb20-92"><a href="exemple-4---x-quantitatif.html#cb20-92" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.Y0_30[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S2A30.pred),<span class="dv">4</span>)</span>
<span id="cb20-93"><a href="exemple-4---x-quantitatif.html#cb20-93" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.Y0_40[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S2A40.pred),<span class="dv">4</span>)</span>
<span id="cb20-94"><a href="exemple-4---x-quantitatif.html#cb20-94" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.Y0_50[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S2A50.pred),<span class="dv">4</span>)</span>
<span id="cb20-95"><a href="exemple-4---x-quantitatif.html#cb20-95" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.Y0_60[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S2A60.pred),<span class="dv">4</span>)</span>
<span id="cb20-96"><a href="exemple-4---x-quantitatif.html#cb20-96" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.Y0_70[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S2A70.pred),<span class="dv">4</span>)</span>
<span id="cb20-97"><a href="exemple-4---x-quantitatif.html#cb20-97" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.Y1_30[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A30.pred),<span class="dv">4</span>)</span>
<span id="cb20-98"><a href="exemple-4---x-quantitatif.html#cb20-98" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.Y1_40[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A40.pred),<span class="dv">4</span>)</span>
<span id="cb20-99"><a href="exemple-4---x-quantitatif.html#cb20-99" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.Y1_50[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A50.pred),<span class="dv">4</span>)</span>
<span id="cb20-100"><a href="exemple-4---x-quantitatif.html#cb20-100" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.Y1_60[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A60.pred),<span class="dv">4</span>)</span>
<span id="cb20-101"><a href="exemple-4---x-quantitatif.html#cb20-101" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.Y1_70[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A70.pred),<span class="dv">4</span>)</span>
<span id="cb20-102"><a href="exemple-4---x-quantitatif.html#cb20-102" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb20-103"><a href="exemple-4---x-quantitatif.html#cb20-103" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RD_30[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A30.pred <span class="sc">-</span> Y.S2A30.pred),<span class="dv">4</span>)</span>
<span id="cb20-104"><a href="exemple-4---x-quantitatif.html#cb20-104" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RD_40[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A40.pred <span class="sc">-</span> Y.S2A40.pred),<span class="dv">4</span>)</span>
<span id="cb20-105"><a href="exemple-4---x-quantitatif.html#cb20-105" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RD_50[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A50.pred <span class="sc">-</span> Y.S2A50.pred),<span class="dv">4</span>)</span>
<span id="cb20-106"><a href="exemple-4---x-quantitatif.html#cb20-106" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RD_60[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A60.pred <span class="sc">-</span> Y.S2A60.pred),<span class="dv">4</span>)</span>
<span id="cb20-107"><a href="exemple-4---x-quantitatif.html#cb20-107" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RD_70[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A70.pred <span class="sc">-</span> Y.S2A70.pred),<span class="dv">4</span>)</span>
<span id="cb20-108"><a href="exemple-4---x-quantitatif.html#cb20-108" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb20-109"><a href="exemple-4---x-quantitatif.html#cb20-109" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RR_30[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A30.pred <span class="sc">/</span> Y.S2A30.pred),<span class="dv">4</span>)</span>
<span id="cb20-110"><a href="exemple-4---x-quantitatif.html#cb20-110" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RR_40[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A40.pred <span class="sc">/</span> Y.S2A40.pred),<span class="dv">4</span>)</span>
<span id="cb20-111"><a href="exemple-4---x-quantitatif.html#cb20-111" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RR_50[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A50.pred <span class="sc">/</span> Y.S2A50.pred),<span class="dv">4</span>)</span>
<span id="cb20-112"><a href="exemple-4---x-quantitatif.html#cb20-112" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RR_60[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A60.pred <span class="sc">/</span> Y.S2A60.pred),<span class="dv">4</span>)</span>
<span id="cb20-113"><a href="exemple-4---x-quantitatif.html#cb20-113" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RR_70[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(Y.S1A70.pred <span class="sc">/</span> Y.S2A70.pred),<span class="dv">4</span>)</span>
<span id="cb20-114"><a href="exemple-4---x-quantitatif.html#cb20-114" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb20-115"><a href="exemple-4---x-quantitatif.html#cb20-115" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RD_Sm[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(msm.lm<span class="sc">$</span>coefficients[<span class="st">&quot;age&quot;</span>]<span class="sc">*</span><span class="dv">10</span>,<span class="dv">4</span>)</span>
<span id="cb20-116"><a href="exemple-4---x-quantitatif.html#cb20-116" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RR_Sm[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">exp</span>(msm.glm<span class="sc">$</span>coefficients[<span class="st">&quot;age&quot;</span>]<span class="sc">*</span><span class="dv">10</span>),<span class="dv">4</span>)</span>
<span id="cb20-117"><a href="exemple-4---x-quantitatif.html#cb20-117" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RD_Sw[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(msm.lm<span class="sc">$</span>coefficients[<span class="st">&quot;age&quot;</span>]<span class="sc">*</span><span class="dv">10</span><span class="sc">+</span> msm.lm<span class="sc">$</span>coefficients[<span class="st">&quot;age:sexeWomen&quot;</span>]<span class="sc">*</span><span class="dv">10</span>,<span class="dv">4</span>)</span>
<span id="cb20-118"><a href="exemple-4---x-quantitatif.html#cb20-118" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RR_Sw[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">exp</span>(msm.glm<span class="sc">$</span>coefficients[<span class="st">&quot;age&quot;</span>]<span class="sc">*</span><span class="dv">10</span> <span class="sc">+</span> msm.glm<span class="sc">$</span>coefficients[<span class="st">&quot;age:sexeWomen&quot;</span>]<span class="sc">*</span><span class="dv">10</span>),<span class="dv">4</span>)</span>
<span id="cb20-119"><a href="exemple-4---x-quantitatif.html#cb20-119" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb20-120"><a href="exemple-4---x-quantitatif.html#cb20-120" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.AI[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(msm.lm<span class="sc">$</span>coefficients[<span class="st">&quot;age:sexeWomen&quot;</span>]<span class="sc">*</span><span class="dv">10</span>,<span class="dv">4</span>)</span>
<span id="cb20-121"><a href="exemple-4---x-quantitatif.html#cb20-121" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.MI[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">exp</span>(msm.lm<span class="sc">$</span>coefficients[<span class="st">&quot;age:sexeWomen&quot;</span>]<span class="sc">*</span><span class="dv">10</span>),<span class="dv">4</span>)</span>
<span id="cb20-122"><a href="exemple-4---x-quantitatif.html#cb20-122" aria-hidden="true" tabindex="-1"></a>         simu.base<span class="sc">$</span>est.RERI[simu.base<span class="sc">$</span>i.simu<span class="sc">==</span>i] <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">exp</span>(msm.glm<span class="sc">$</span>coefficients[<span class="st">&quot;age&quot;</span>]<span class="sc">*</span><span class="dv">10</span> <span class="sc">+</span> msm.glm<span class="sc">$</span>coefficients[<span class="st">&quot;sexeWomen&quot;</span>] <span class="sc">+</span> msm.glm<span class="sc">$</span>coefficients[<span class="st">&quot;age:sexeWomen&quot;</span>]<span class="sc">*</span><span class="dv">10</span>) <span class="sc">-</span> </span>
<span id="cb20-123"><a href="exemple-4---x-quantitatif.html#cb20-123" aria-hidden="true" tabindex="-1"></a>                                               <span class="fu">exp</span>(msm.glm<span class="sc">$</span>coefficients[<span class="st">&quot;age&quot;</span>]<span class="sc">*</span><span class="dv">10</span> <span class="sc">+</span> msm.glm<span class="sc">$</span>coefficients[<span class="st">&quot;age:sexeWomen&quot;</span>]<span class="sc">*</span><span class="dv">10</span>) <span class="sc">-</span> </span>
<span id="cb20-124"><a href="exemple-4---x-quantitatif.html#cb20-124" aria-hidden="true" tabindex="-1"></a>                                               <span class="fu">exp</span>(msm.glm<span class="sc">$</span>coefficients[<span class="st">&quot;sexeWomen&quot;</span>] <span class="sc">+</span> msm.glm<span class="sc">$</span>coefficients[<span class="st">&quot;age:sexeWomen&quot;</span>]<span class="sc">*</span><span class="dv">10</span>) <span class="sc">+</span> <span class="dv">1</span>, <span class="dv">4</span>) </span>
<span id="cb20-125"><a href="exemple-4---x-quantitatif.html#cb20-125" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb20-126"><a href="exemple-4---x-quantitatif.html#cb20-126" aria-hidden="true" tabindex="-1"></a>         }</span>
<span id="cb20-127"><a href="exemple-4---x-quantitatif.html#cb20-127" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb20-128"><a href="exemple-4---x-quantitatif.html#cb20-128" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb20-129"><a href="exemple-4---x-quantitatif.html#cb20-129" aria-hidden="true" tabindex="-1"></a>     effect <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">colMeans</span>(simu.base),<span class="dv">2</span>)</span>
<span id="cb20-130"><a href="exemple-4---x-quantitatif.html#cb20-130" aria-hidden="true" tabindex="-1"></a>     confint <span class="ot">&lt;-</span> <span class="fu">apply</span>(simu.base, <span class="dv">2</span>, <span class="cf">function</span>(x) <span class="fu">round</span>(<span class="fu">quantile</span>(x,<span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>)),<span class="dv">2</span>))</span>
<span id="cb20-131"><a href="exemple-4---x-quantitatif.html#cb20-131" aria-hidden="true" tabindex="-1"></a>     tab_all <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">rbind</span>(effect,confint))</span></code></pre></div>
<p>Au final, les résultats étaient :</p>
<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
Sex = Men
</th>
<th style="text-align:left;">
Sex = Women
</th>
<th style="text-align:left;">
RD within strata of Age
</th>
<th style="text-align:left;">
OR within strata of Age
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Age = 30
</td>
<td style="text-align:left;">
0.61 [0.61 to 0.62]
</td>
<td style="text-align:left;">
0.78 [0.78 to 0.78]
</td>
<td style="text-align:left;">
-0.17 [-0.18 to -0.16]
</td>
<td style="text-align:left;">
0.78 [0.78 to 0.79]
</td>
</tr>
<tr>
<td style="text-align:left;">
Age = 40
</td>
<td style="text-align:left;">
0.42 [0.42 to 0.43]
</td>
<td style="text-align:left;">
0.59 [0.59 to 0.6]
</td>
<td style="text-align:left;">
-0.17 [-0.18 to -0.17]
</td>
<td style="text-align:left;">
0.71 [0.7 to 0.72]
</td>
</tr>
<tr>
<td style="text-align:left;">
Age = 50
</td>
<td style="text-align:left;">
0.25 [0.25 to 0.26]
</td>
<td style="text-align:left;">
0.38 [0.37 to 0.38]
</td>
<td style="text-align:left;">
-0.12 [-0.13 to -0.12]
</td>
<td style="text-align:left;">
0.67 [0.66 to 0.68]
</td>
</tr>
<tr>
<td style="text-align:left;">
Age = 60
</td>
<td style="text-align:left;">
0.14 [0.13 to 0.14]
</td>
<td style="text-align:left;">
0.2 [0.2 to 0.2]
</td>
<td style="text-align:left;">
-0.06 [-0.07 to -0.06]
</td>
<td style="text-align:left;">
0.68 [0.66 to 0.7]
</td>
</tr>
<tr>
<td style="text-align:left;">
Age = 70
</td>
<td style="text-align:left;">
0.07 [0.07 to 0.07]
</td>
<td style="text-align:left;">
0.09 [0.09 to 0.1]
</td>
<td style="text-align:left;">
-0.03 [-0.03 to -0.02]
</td>
<td style="text-align:left;">
0.73 [0.7 to 0.76]
</td>
</tr>
<tr>
<td style="text-align:left;">
RD (10 y) within strata of Sex
</td>
<td style="text-align:left;">
-0.18 [-0.18 to -0.18]
</td>
<td style="text-align:left;">
-0.14 [-0.14 to -0.14]
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
OR (10 y) within strata of Sex
</td>
<td style="text-align:left;">
0.41 [0.41 to 0.42]
</td>
<td style="text-align:left;">
0.46 [0.46 to 0.47]
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup>a</sup> Additive interaction (10 years) =0.04 [0.04 to 0.04]
</td>
</tr>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup>b</sup> Multiplicative Interaction (10 years) =1.04 [1.04 to 1.05]
</td>
</tr>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup>c</sup> RERI (10 years) =0.33 [0.32 to 0.34]
</td>
</tr>
</tfoot>
</table>
<p>On retrouve :</p>
<ul>
<li>une interaction additive significative et positive : l’écart entre les hommes et les femmes diminue avec l’âge, de 4% tous les 10 ans, ou l’effet d’avoir 10 ans est plus faible de 4% chez les hommes par rapport au femmes. Le RERI est aussi positif et significatif (l’OR augmente de 33% tous les 10 ans).</li>
<li>une interaction multiplicative significative et positive : l’effet d’être un homme plutôt qu’une femme sur le risque d’avoir consommer du cannabis est moins fort quand l’âge augmente, ou l’effet d’avoir 10 ans est multiplié par 1,04 chez les femmes par rapport aux hommes</li>
</ul>

</div>
</div>



<h3> Références<a href="références.html#références" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body">
<div id="ref-royston2006dichotomizing" class="csl-entry">
<div class="csl-left-margin">[11] </div><div class="csl-right-inline">Royston P, Altman DG, Sauerbrei W. Dichotomizing continuous predictors in multiple regression: A bad idea. Statistics in Medicine 2006;25:127–41.</div>
</div>
<div id="ref-knol2007estimating" class="csl-entry">
<div class="csl-left-margin">[12] </div><div class="csl-right-inline">Knol MJ, Tweel I van der, Grobbee DE, Numans ME, Geerlings MI. Estimating interaction on an additive scale between continuous determinants in a logistic regression model. International Journal of Epidemiology 2007;36:1111–8.</div>
</div>
<div id="ref-cadarso2006effect" class="csl-entry">
<div class="csl-left-margin">[13] </div><div class="csl-right-inline">Cadarso-Suárez C, Roca-Pardiñas J, Figueiras A. Effect measures in non-parametric regression with interactions between continuous exposures. Statistics in Medicine 2006;25:603–21.</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exemple-2---y-quantitatif.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="synthèse-générale.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/09-pratique.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
