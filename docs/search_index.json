[["proposition-détapes.html", "Chapitre 11 Proposition d’étapes", " Chapitre 11 Proposition d’étapes Formuler l’objectif Est-ce un objectif prédictif ou explicatif ? Si démarche explicative, s’agit-il plutot d’une analyse d’interaction ou de modification d’effet? Stratégies et méthodes Poser les hypothèses sur un DAG ou schéma conceptuel Identifier le ou les estimand(s), c’est-à-dire l’effet ou le paramètre que l’on va chercher à estimer pour répondre à l’objectif, par exemple : effet conjoint de X et V sur Y, sur l’échelle multiplicative = \\(\\small OR_{X,V}\\) effet de X sur Y dans chaque strate de Y, sur l’échelle additive = \\(\\small DR_{X|V=0}\\) et \\(\\small DR_{X|V=1}\\) effet d’interaction sur l’échelle additive et multiplicative AI et MI Elaborer l’estimateur, notamment : quelles est(sont) l’exposition(s) d’intérêt ? quels sont les facteurs de confusion +/- les médiateurs si besoin ? quels types de modélisation va être utilisée (linéaire, logistique, autre) ? Analyses descriptives Description habituelle de la population Décrire, dans un tableau croisé, le Y moyen ou la proportion de Y = 1 pour chaque catégorie de X et V Analyses exploratoires Analyses stratifiées pour une analyse de modification d’effet, il est possible en exploratoire, d’estimer l’effet de X sur Y de façon stratifiée sur V (on découpe la population) les effets ne seront directement pas comparables Analyses confirmatoires Régressions avec terme d’interaction (voir Chapitre ??) un modèle dans la population totale peut être utilisé avec un terme d’interaction entre X et V les différents paramètres peuvent être déduits des résultats du modèle Approches causales ( voir Chapitre 9) G-computation MSM TMLE "],["exemple-1---y-binaire.html", "Chapitre 12 Exemple 1 - Y binaire", " Chapitre 12 Exemple 1 - Y binaire "],["exemple-2---y-quantitatif.html", "Chapitre 13 Exemple 2 - Y quantitatif 13.1 Formuler les objectifs 13.2 Stratégies et méthodes 13.3 Analyse descriptive 13.4 Analyse exploratoire 13.5 Analyse confirmatoire", " Chapitre 13 Exemple 2 - Y quantitatif 13.1 Formuler les objectifs Dans cette étude [1], on s’est intéressé à : comment l’effet du sexe sur le taux de cholestérol LDL vers 45 ans varie en fonction de la défavorisation sociale précoce, comment l’effet de la défavorisation sociale précoce sur le taux de cholestérol LDL varie en fonction du sexe. La démarche ici est explicative : on cherche à comprendre des mécanismes causaux. A partir de la formulation des objectifs, on pourrait dire qu’on s’intéresse ici plutot à deux modifications d’effet. On va donc devoir à la fois agir sur le sexe \\(\\small do(S)\\) et sur la défavorisation sociale \\(\\small do(D)\\). Donc la démarche, en fait, sera plutôt une analyse d’interaction \\(\\small do(S,D)\\) 13.2 Stratégies et méthodes Le DAG (sans les médiateurs) était : Les estimands étaient définis sur l’échelle additive par : La modification de l’effet du sexe en fonction par la défavorisation sociale précoce : \\(\\small (Y_{s=1|d=0} - Y_{s=0|d=0}) - (Y_{s=1|d=1} - Y_{s=0|d=1})\\) ou \\(\\small (Y_{s=1,d=0} - Y_{s=0,d=0}) - (Y_{s=1,d=1} - Y_{s=0,d=1})\\) La modification de l’effet de la défavorisation sociale précoce par la sexe \\(\\small (Y_{d=1|s=0} - Y_{d=0|s=0}) - (Y_{d=1|s=1} - Y_{d=0|s=1})\\) ou \\(\\small (Y_{d=1,s=0} - Y_{d=0,s=0}) - (Y_{d=1,s=1} - Y_{d=0,s=1})\\) Les deux formulations sont ici équivalentes car il n’y pas de facteurs de confusion, donc, par exemple, \\(\\small Y_{d=1|s=0} = Y_{s=0|d=1} = Y_{d=1,s=0}\\) L’estimateur : Les effets ont été estimés par g-computation (standardisation par régression) [2]. Des régressions linéaires ont été utilisées pour estimer les potential outcomes pour chaque scénario, désignées par \\(\\small \\overline{Q}(S, D) = E(Y|S, D)\\). A partir des fonctions \\(\\small \\overline{Q}(S, D)\\) estimées, nous avons prédit la valeur de l’outcome Y pour chaque individu i pour chaque scénario. Les valeurs moyennes de Y dans chaque scénario vont ensuite nous permettre d’estimer les estimands selon leurs définitions précisées ci-dessus. Ces modèles\\(\\small \\overline{Q}(S, D)\\) vont comprendre 2 variables : le sexe et la défavorisation sociale précoce (il n’y a pas ici de facteurs de confusion). 13.3 Analyse descriptive Dans cette population (N=17 272), il y avait 51,4% d’hommes et 60,5% de personnes ayant été précocement défavorisées. On peut commencer par décrire les moyennes de cholestérol dans chaque catégorie de sexe et de défavorisation sociale : Sexe Défavorisation Mean(Chol LDL) Male Non 3.57 Male Oui 3.60 Female Non 3.24 Female Oui 3.37 13.4 Analyse exploratoire La sortie d’une modèle linéaire simple serait : # Call: # lm(formula = t8_ldl ~ as.factor(sex) + as.factor(soc_group) + # as.factor(sex) * as.factor(soc_group), data = ba_1) # # Coefficients: # Estimate Std. Error t value Pr(&gt;|t|) # (Intercept) 3.24270 0.01594 203.475 &lt; 2e-16 *** # as.factor(sex)1 0.32553 0.02227 14.616 &lt; 2e-16 *** # as.factor(soc_group)2.Défav 0.12614 0.02052 6.148 8.02e-10 *** # as.factor(sex)1:as.factor(soc_group)2.Défav -0.09473 0.02863 -3.308 0.000941 *** # --- # Signif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 # On peut en déduire (échelle additive) que : L’effet du sexe (d’être homme plutot que femme) est : Quand on est favorisé : \\(\\small DR(S|D=0) = +0.326\\) mmol/L Quand on est défavorisé : \\(\\small DR(S|D=1) = 0.326 - 0.095 =\\) +0.231 mmol/L L’effet de la défavorisation est : Quand on est une femme : \\(\\small DR(D|S=0) = +0.126\\) mmol/L Quand on est un homme : \\(\\small DR(D|S=1) = 0.126 - 0.095 =\\) +0.031 mmol/L L’effet d’être un homme et défavorisé plutot que femme et favorisé est \\(\\small DR(D,S) = 0.326 + 0.126 - 0.095 =\\) +0.357 mmol/L L’effet d’interaction/modification d’effet est : \\(\\small AI = -0.095\\) mmol/L On pourrait aussi déduire : \\(\\small Y_{00} = 3.24\\) mmol/L \\(\\small Y_{10} = 3.243 + 0.326 =\\) 3.57 mmol/L \\(\\small Y_{01} = 3.243 + 0.126 =\\) 3.37 mmol/L \\(\\small Y_{11} = 3.243 + 0.326 + 0.126 - 0.095 =\\) 3.6 mmol/L 13.5 Analyse confirmatoire Si l’on utilise le package proposé par B Lepage pour réaliser cet analyse avec la TMLE (effets d’intéraction calculés à partir des paramètres d’une modèle structurel marginal estimé à l’aide du package R ltmle), les résultats sont : A2=0 A2=1 RD.A2|A1 A1=0 \\(p_{00}\\)=3.243 [3.213,3.273] \\(p_{01}\\)=3.369 [3.344,3.394] 0.126 [0.087,0.165] A1=1 \\(p_{10}\\)=3.568 [3.538,3.598] \\(p_{11}\\)=3.6 [3.574,3.625] 0.031 [-0.008,0.071] RD.A1|A2 0.326 [0.283,0.368] 0.231 [0.195,0.267] a additive Interaction = -0.095 [-0.15;-0.039] On retrouve des résulats qui peuvent être intérprétés ainsi : l’effet d’être un homme (ou “la différence H-F) est moins fort de additive Interaction = -0.095 [-0.15;-0.039] mmol/L lorsqu’on est défavorisé précocement l’effet de la défavorisation est moins fort de additive Interaction = -0.095 [-0.15;-0.039] mmol/L chez les hommes En réalité, on a réalisé cette analyse par g-computation (voir chapitre 9) sur des données imputées et boostrappées (l’exemple ci-dessus a été réalisé sur une seule des bases bootstrappées, ce qui explique les différences), et les résultats, présentées selon les recommandations modifiées de Knol et VanderWeele, étaient: Références "],["exemple-4---x-quantitatif.html", "Chapitre 14 Exemple 4 - X quantitatif 14.1 Formuler les objectifs 14.2 Stratégies et méthodes 14.3 Analyse descriptive 14.4 Analyse exploratoire 14.5 Analyse confirmatoire", " Chapitre 14 Exemple 4 - X quantitatif Les articles qui se consacrent aux interactions présentent souvent des méthodes applicables lorsque les deux expositions X et V sont binaires. Or, en épidémiologie, les expositions peuvent aussi être continues et, si dichotomiser ces variables peut simplifier l’approche de l’interaction, cela conduit à une perte d’information qui n’est pas souhaitable et pose la question complexe du choix des seuils [3] [4] [5]. Nous présentons ici un exemple dans lequel l’une des expositions, l’âge, est analysée en tant que variable quantitative continue. 14.1 Formuler les objectifs Dans cette étude fictive, on s’est intéressé à la consommation de cannabis : comment le fait d’avoir déjà fumé du cannabis Y varie avec l’âge A et le sexe S. La démarche est explicative : on cherche à comprendre les mécanismes causaux de ce comportement de santé. Ici, on adoptera une démarche d’analyse d’interaction \\(\\small do(S,A)\\) 14.2 Stratégies et méthodes Le DAG (sans les médiateurs) était : Les estimands était définis par : L’effet de l’âge (“avoir 10 ans de plus”) chez les hommes \\(\\small DR = Y_{S=0,A=a+10} - Y_{S=0,A=a}\\) \\(\\small RR = \\frac{Y_{S=0,A=a+10}}{Y_{S=0,A=a}}\\) L’effet de l’âge (“avoir 10 ans de plus”) chez les femmes : \\(\\small DR = Y_{S=1,A=a+10} - Y_{S=1,A=a}\\) \\(\\small RR = \\frac{Y_{S=1,A=a+10}}{Y_{S=1,A=a}}\\) L’effet d’interaction entre l’âge et le sexe (l’effet du sexe est-il différent en fonction de l’âge et l’effet de l’âge est-il différent en fonction du sexe ?) sur l’échelle additive : \\(\\small AI = Y_{S=1,A=a+10} - Y_{S=0,A=a+10} - Y_{S=1,A=a} + Y_{S=0,A=a+10}\\) sur l’échelle multiplicative : \\(\\small MI =\\frac{Y_{S=1,A=a+10} \\times Y_{S=0,A=a}}{Y_{S=1,A=a} \\times Y_{S=0,A=a+10}}\\) 14.3 Analyse descriptive Dans cette population (N=202 768), il y avait 53,7% d’hommes et la moyenne d’âge était de 47,1 ans. On peut commencer par décrire la proportion de personnes ayant déjà fumé du cannabis par sexe et classe d’âge : Sexe Age P(Cannabis), % Male 20- 51,1 Male ]20 à 40] 66,3 Male ]40 à 60] 40,4 Male 60+ 12,1 Female 20- 44,2 Female ]20 à 40] 52,7 Female ]40 à 60] 26,7 Female 60+ 12,1 Il semble y avoir une interaction entre l’âge et le sexe sur la probabilité d’avoir déjà fumé du cannabis. Cependant, la relation entre l’âge et l’outcome ne semble pas linéaire, ce qui est confirmé graphiquement : Pour simplifier les analyses, nous n’allons inclure que les plus de 30 ans (N = 177 940), pour lesquels la relation est linéaire : Le modèle de régression logistique (\\(\\cdot\\cdot\\cdot\\)) semble être plus proche de la modélisation non paramétrique sur données observées (loess, —–) que la modélisation linaire (\\(---\\)) . D’ailleurs, le R² du modèle logistique est de 0,168 contre 0,139 pour le modèle linéaire. 14.4 Analyse exploratoire 14.4.1 Régression logistique L’outcome étant binaire, il est plus classique d’utiliser un modèle logistique, dont les résultats seraient : # Call: # glm(formula = cannabis ~ sexe + age + sexe * age, family = binomial, # data = data) # # Coefficients: # Estimate Std. Error z value Pr(&gt;|z|) # (Intercept) 3.9144609 0.0372560 105.07 &lt;2e-16 *** # sexeWomen -1.1644706 0.0511834 -22.75 &lt;2e-16 *** # age -0.0882928 0.0007566 -116.70 &lt;2e-16 *** # sexeWomen:age 0.0117238 0.0010623 11.04 &lt;2e-16 *** # --- # Signif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 Ce qui, en terme d’OR, donnerait : # OR 2.5 % 97.5 % # (Intercept) 50.1220409 46.5985990 53.9259952 # sexeWomen 0.3120878 0.2822910 0.3450107 # age 0.9154927 0.9141333 0.9168485 # sexeWomen:age 1.0117927 1.0096884 1.0139018 Les modèles de régression logistique donnent des résulats sur l’échelle multiplicative : L’effet du sexe (d’être femme plutot que homme) est : “A 0 ans” (à l’origine) : \\(\\small OR(S|A=0) = \\times 0.31\\) “A 1 ans” : \\(\\small OR(S|A=1) = exp(-1,164 + 0,012) \\times\\) 0.32 A 40 ans (par exemple) : \\(\\small OR(S|A=40) = exp(-1,164 + 0,012 \\times 40) = \\times\\) 0.5 L’effet de l’age est : Quand on est un homme : \\(\\small OR(A|S=0) = exp(-0,088\\times 10 ) = \\times\\) 0.41 par 10 ans Quand on est une femme : \\(\\small OR(A|S=1) = exp(-0,088\\times 10 + 0,012\\times 10) = \\times\\) 0.47 par 10 ans L’effet d’être une femme et d’avoir 10 ans de plus plutot que homme “et 0 ans” \\(\\small OR(A,S) = exp(-1,164 -0,088\\times 10 + 0,012\\times 10) = \\times\\) 0.15 L’effet d’interaction/modification d’effet est : \\(\\small MI =\\times 1,01\\) sur 1 an \\(\\small MI_{10} = exp(0,012\\times 10 ) = \\times\\) 1.13 sur 10 ans Un effet d’interaction additif \\(\\small RERI_{OR} = OR_{11} - OR_{01} - OR_{10} + 1 =\\) 0.047 pour 1 ans \\(\\small RERI_{OR,10} =\\) 0.362 On a donc une interaction multiplicative positive (MI&gt;1) et significative et une interaction additive aussi positive (RERI &gt;0). 14.4.2 Régression linéaire La sortie d’une modèle linéaire simple serait : # # Call: # lm(formula = cannabis ~ sexe + age + sexe * age, data = data) # # Coefficients: # Estimate Std. Error t value Pr(&gt;|t|) # (Intercept) 1.3197103 0.0066820 197.50 &lt;2e-16 *** # sexeWomen -0.3373482 0.0091573 -36.84 &lt;2e-16 *** # age -0.0183730 0.0001294 -142.03 &lt;2e-16 *** # sexeWomen:age 0.0044248 0.0001781 24.85 &lt;2e-16 *** # Signif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 On peut en déduire, ici sur une échelle additive, que : L’effet du sexe (d’être femme plutot que homme) est : “A 0 ans” (à l’origine) : \\(\\small DR(S|A=0) = -33,73\\)% A 20 ans (par exemple) : \\(\\small DR(S|A=20) = -33,73 + 0,44 \\times 20 =\\) -24.93% A 40 ans (par exemple) : \\(\\small DR(S|A=40) = -33,73 + 0,44 \\times 40 =\\) -16.13% A 60 ans (par exemple) : \\(\\small DR(S|A=60) = -33,73 + 0,44 \\times 60 =\\) -7.33% L’effet de l’age est : Quand on est un homme : \\(\\small DR(A|S=0) = -1,84\\times 10 =\\) -18.4% par 10 ans Quand on est une femme : \\(\\small DR(A|S=1) = -1,84\\times 10 + 0.44\\times 10 =\\) -14 % par année d’âge L’effet d’être une femme et d’avoir 10 ans de plus plutot que homme et un certain âge \\(\\small DR(A,S) = -33,73 -1,84\\times 10 + 0,44\\times 10 =\\) -47.73 % L’effet d’interaction/modification d’effet est : \\(\\small AI = +0.44\\)`% \\(\\small AI_{10} = +0.44\\times 10 =\\) 4.4% On retrouve une interaction additive significative et positive. Les expositions ayant un effet négatif et l’effet d’interaction étant positif, cet effet est difficile à interpréter, mais on pourrait le formuler plus simplement en changeant la catégorie de référence du sexe de homme à femme. Ainsi : globalement, la probabilité d’avoir déjà fumer du cannabis diminue avec l’âge chez les hommes (-1,8% par an) et chez les femmes (-1,4% par an). Cette probabilité est plus élevée chez les hommes (de 16% par exemple à 40 ans), mais cet écart diminue avec l’âge, de 4,4% tous les 10 ans. 14.4.3 Effets prédits A partir des modèles, on peut déduire les effets prédits pour certaines catégories. Par exemple, avec le modèle logistique : \\(\\small Y_{S=0,A=30} = \\frac{exp(3,914 - 0,088 \\times 30)}{1+exp(3,914 - 0,088 \\times 30)} =\\) 78.1% \\(\\small Y_{S=0,A=50} = \\frac{exp(3,914 - 0,088 \\times 50)}{1+exp(3,914 - 0,088 \\times 50)} =\\) 38.1% \\(\\small Y_{S=1,A=30} = \\frac{exp(3,914 - 1,164 - 0,088 \\times 30 + 0,012 \\times 30)}{1+exp(3,914 - 1,164 - 0,088 \\times 30 + 0,012 \\times 30)} =\\) 61.5% \\(\\small Y_{S=1,A=50} = \\frac{exp(3,914 - 1,164 - 0,088 \\times 50 + 0,012 \\times 50)}{1+exp(3,914 - 1,164 - 0,088 \\times 50 + 0,012 \\times 50)} =\\) 25.9% Avec le modèle linéaire, on aurait : \\(\\small Y_{S=0,A=30} = 131,97 - 1,84 \\times 30 =\\) 76.8% \\(\\small Y_{S=0,A=50} = 131,97 - 1,84 \\times 50 =\\) 40% \\(\\small Y_{S=1,A=30} = 131,97 -33,73 - 1,84 \\times 30 + 0,44 \\times 30 =\\) 56.2% \\(\\small Y_{S=1,A=50} = 131,97 -33,73 - 1,84 \\times 50 + 0,44 \\times 50 =\\) 28.2% 14.5 Analyse confirmatoire Nous avons calculé les effets d’intérêt avec une méthode de modèle structurel marginal (Intervalles de confiance estimé par bootstrap, 200 répétitions), le modèle utilisé pour prédire les outcomes contrefactuels étaient un modèle de régression logistique. Le code était : B=200 simu.base &lt;- data.frame(i.simu=c(1:B)) for (i in 1:B){ # sample the indices 1 to n with replacement bootIndices &lt;- sample(1:nrow(data), replace=T) ; set.seed(01062023+i*12) bootData &lt;- data[bootIndices,] #modèle Q.model &lt;- glm(data=bootData, formula = cannabis ~ sexe+ age+ sexe*age,family = binomial) # Scénarios # data.S1 &lt;- data.S2 &lt;- bootData data.S1$sexe &lt;- &quot;Women&quot; data.S2$sexe &lt;- &quot;Men&quot; data.S1A30 &lt;- data.S1A40 &lt;- data.S1A50 &lt;- data.S1A60 &lt;- data.S1A70 &lt;- data.S1 data.S1A35 &lt;- data.S1A45 &lt;- data.S1A55 &lt;- data.S1A65 &lt;- data.S1 data.S2A30 &lt;- data.S2A40 &lt;- data.S2A50 &lt;- data.S2A60 &lt;- data.S2A70 &lt;- data.S2 data.S2A35 &lt;- data.S2A45 &lt;- data.S2A55 &lt;- data.S2A65 &lt;- data.S2 data.S1A30$age &lt;- data.S2A30$age &lt;- 30 data.S1A35$age &lt;- data.S2A35$age &lt;- 35 data.S1A40$age &lt;- data.S2A40$age &lt;- 40 data.S1A45$age &lt;- data.S2A45$age &lt;- 45 data.S1A50$age &lt;- data.S2A50$age &lt;- 50 data.S1A55$age &lt;- data.S2A55$age &lt;- 55 data.S1A60$age &lt;- data.S2A60$age &lt;- 60 data.S1A65$age &lt;- data.S2A65$age &lt;- 65 data.S1A70$age &lt;- data.S2A70$age &lt;- 70 # Y contrefactuel Y.S1A30.pred &lt;- predict(Q.model, newdata = data.S1A30, type = &quot;response&quot;) Y.S1A40.pred &lt;- predict(Q.model, newdata = data.S1A40, type = &quot;response&quot;) Y.S1A50.pred &lt;- predict(Q.model, newdata = data.S1A50, type = &quot;response&quot;) Y.S1A60.pred &lt;- predict(Q.model, newdata = data.S1A60, type = &quot;response&quot;) Y.S1A70.pred &lt;- predict(Q.model, newdata = data.S1A70, type = &quot;response&quot;) Y.S2A30.pred &lt;- predict(Q.model, newdata = data.S2A30, type = &quot;response&quot;) Y.S2A40.pred &lt;- predict(Q.model, newdata = data.S2A40, type = &quot;response&quot;) Y.S2A50.pred &lt;- predict(Q.model, newdata = data.S2A50, type = &quot;response&quot;) Y.S2A60.pred &lt;- predict(Q.model, newdata = data.S2A60, type = &quot;response&quot;) Y.S2A70.pred &lt;- predict(Q.model, newdata = data.S2A70, type = &quot;response&quot;) Y.S1A35.pred &lt;- predict(Q.model, newdata = data.S1A35, type = &quot;response&quot;) Y.S1A45.pred &lt;- predict(Q.model, newdata = data.S1A45, type = &quot;response&quot;) Y.S1A55.pred &lt;- predict(Q.model, newdata = data.S1A55, type = &quot;response&quot;) Y.S1A65.pred &lt;- predict(Q.model, newdata = data.S1A65, type = &quot;response&quot;) Y.S2A35.pred &lt;- predict(Q.model, newdata = data.S2A35, type = &quot;response&quot;) Y.S2A45.pred &lt;- predict(Q.model, newdata = data.S2A45, type = &quot;response&quot;) Y.S2A55.pred &lt;- predict(Q.model, newdata = data.S2A55, type = &quot;response&quot;) Y.S2A65.pred &lt;- predict(Q.model, newdata = data.S2A65, type = &quot;response&quot;) Y &lt;- c(Y.S1A30.pred, Y.S1A40.pred, Y.S1A50.pred, Y.S1A60.pred, Y.S1A70.pred, Y.S1A35.pred, Y.S1A45.pred, Y.S1A55.pred, Y.S1A65.pred, Y.S2A30.pred, Y.S2A40.pred, Y.S2A50.pred, Y.S2A60.pred, Y.S2A70.pred, Y.S2A35.pred, Y.S2A45.pred, Y.S2A55.pred, Y.S2A65.pred) # On récupère les valeurs d&#39;exposition qui ont servi dans les scénarios contrefactuels # (garder le même ordre que pour les Y.A1.A2) X &lt;- rbind(subset(data.S1A30, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S1A40, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S1A50, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S1A60, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S1A70, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S1A35, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S1A45, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S1A55, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S1A65, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S2A30, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S2A40, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S2A50, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S2A60, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S2A70, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S2A35, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S2A45, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S2A55, select = c(&quot;sexe&quot;, &quot;age&quot;)), subset(data.S2A65, select = c(&quot;sexe&quot;, &quot;age&quot;))) ## Modèle structurel marginal # logistique msm.glm &lt;- glm(Y ~ age + sexe + age:sexe, data = data.frame(Y,X), family = &quot;binomial&quot;) #linéaire pour l&#39;interaction additive msm.lm &lt;- glm(Y ~ age + sexe + age:sexe, data = data.frame(Y,X), family = &quot;gaussian&quot;) # Tous les effets simu.base$est.Y0_30[simu.base$i.simu==i] = round(mean(Y.S2A30.pred),4) simu.base$est.Y0_40[simu.base$i.simu==i] = round(mean(Y.S2A40.pred),4) simu.base$est.Y0_50[simu.base$i.simu==i] = round(mean(Y.S2A50.pred),4) simu.base$est.Y0_60[simu.base$i.simu==i] = round(mean(Y.S2A60.pred),4) simu.base$est.Y0_70[simu.base$i.simu==i] = round(mean(Y.S2A70.pred),4) simu.base$est.Y1_30[simu.base$i.simu==i] = round(mean(Y.S1A30.pred),4) simu.base$est.Y1_40[simu.base$i.simu==i] = round(mean(Y.S1A40.pred),4) simu.base$est.Y1_50[simu.base$i.simu==i] = round(mean(Y.S1A50.pred),4) simu.base$est.Y1_60[simu.base$i.simu==i] = round(mean(Y.S1A60.pred),4) simu.base$est.Y1_70[simu.base$i.simu==i] = round(mean(Y.S1A70.pred),4) simu.base$est.RD_30[simu.base$i.simu==i] = round(mean(Y.S1A30.pred - Y.S2A30.pred),4) simu.base$est.RD_40[simu.base$i.simu==i] = round(mean(Y.S1A40.pred - Y.S2A40.pred),4) simu.base$est.RD_50[simu.base$i.simu==i] = round(mean(Y.S1A50.pred - Y.S2A50.pred),4) simu.base$est.RD_60[simu.base$i.simu==i] = round(mean(Y.S1A60.pred - Y.S2A60.pred),4) simu.base$est.RD_70[simu.base$i.simu==i] = round(mean(Y.S1A70.pred - Y.S2A70.pred),4) simu.base$est.RR_30[simu.base$i.simu==i] = round(mean(Y.S1A30.pred / Y.S2A30.pred),4) simu.base$est.RR_40[simu.base$i.simu==i] = round(mean(Y.S1A40.pred / Y.S2A40.pred),4) simu.base$est.RR_50[simu.base$i.simu==i] = round(mean(Y.S1A50.pred / Y.S2A50.pred),4) simu.base$est.RR_60[simu.base$i.simu==i] = round(mean(Y.S1A60.pred / Y.S2A60.pred),4) simu.base$est.RR_70[simu.base$i.simu==i] = round(mean(Y.S1A70.pred / Y.S2A70.pred),4) simu.base$est.RD_Sm[simu.base$i.simu==i] = round(msm.lm$coefficients[&quot;age&quot;]*10,4) simu.base$est.RR_Sm[simu.base$i.simu==i] = round(exp(msm.glm$coefficients[&quot;age&quot;]*10),4) simu.base$est.RD_Sw[simu.base$i.simu==i] = round(msm.lm$coefficients[&quot;age&quot;]*10 + msm.lm$coefficients[&quot;age:sexeWomen&quot;]*10,4) simu.base$est.RR_Sw[simu.base$i.simu==i] = round(exp(msm.glm$coefficients[&quot;age&quot;]*10 + msm.glm$coefficients[&quot;age:sexeWomen&quot;]*10),4) simu.base$est.AI[simu.base$i.simu==i] = round(msm.lm$coefficients[&quot;age:sexeWomen&quot;]*10,4) simu.base$est.MI[simu.base$i.simu==i] = round(exp(msm.glm$coefficients[&quot;age:sexeWomen&quot;]*10),4) simu.base$est.RERI[simu.base$i.simu==i] = round(exp(msm.glm$coefficients[&quot;age&quot;]*10 + msm.glm$coefficients[&quot;sexeWomen&quot;] + msm.glm$coefficients[&quot;age:sexeWomen&quot;]*10) - exp(msm.glm$coefficients[&quot;age&quot;]*10 + msm.glm$coefficients[&quot;age:sexeWomen&quot;]*10) - exp(msm.glm$coefficients[&quot;sexeWomen&quot;] + msm.glm$coefficients[&quot;age:sexeWomen&quot;]*10) + 1, 4) } effect &lt;- round(colMeans(simu.base),2) confint &lt;- apply(simu.base, 2, function(x) round(quantile(x,probs = c(0.025, 0.975)),2)) tab_all &lt;- as.data.frame(rbind(effect,confint)) Au final, les résultats étaient : Sex = Men Sex = Women RD within strata of Age OR within strata of Age Age = 30 0.62 [0.61 to 0.62] 0.78 [0.78 to 0.79] -0.16 [-0.17 to -0.16] 0.79 [0.78 to 0.8] Age = 40 0.42 [0.42 to 0.43] 0.6 [0.59 to 0.6] -0.17 [-0.18 to -0.17] 0.71 [0.7 to 0.72] Age = 50 0.25 [0.25 to 0.25] 0.38 [0.37 to 0.38] -0.13 [-0.13 to -0.12] 0.66 [0.65 to 0.67] Age = 60 0.13 [0.13 to 0.13] 0.2 [0.19 to 0.2] -0.07 [-0.07 to -0.06] 0.66 [0.65 to 0.68] Age = 70 0.06 [0.06 to 0.07] 0.09 [0.09 to 0.09] -0.03 [-0.03 to -0.02] 0.7 [0.67 to 0.73] RD (10 y) within strata of Sex -0.18 [-0.18 to -0.18] -0.14 [-0.14 to -0.14] NA NA OR (10 y) within strata of Sex 0.41 [0.4 to 0.41] 0.45 [0.45 to 0.46] NA NA a Additive interaction (10 years) =0.04 [0.04 to 0.04] b Multiplicative Interaction (10 years) =1.11 [1.09 to 1.13] c RERI (10 years) =0.33 [0.32 to 0.34] On retrouve : une interaction additive significative et positive : l’écart entre les hommes et les femmes diminue avec l’âge, de 4% tous les 10 ans, ou l’effet d’avoir 10 ans est plus faible de 4% chez les hommes par rapport au femmes. Le RERI est aussi positif et significatif (l’OR augmente de 33% tous les 10 ans). une interaction multiplicative significative et positive : l’effet d’être un homme plutôt qu’une femme sur le risque d’avoir consommer du cannabis est moins fort quand l’âge augmente, ou l’effet d’avoir 10 ans est multiplié par 1,04 chez les femmes par rapport aux hommes Références "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
